generator client {
  provider = "prisma-client"
  output   = "../lib/generated/prisma"
}

datasource db {
  provider = "postgresql"
}

model User {
  id        String   @id @default(uuid())
  username  String?   @unique
  email     String   @unique
  password  String?
  provider  String   @default("credentials")
  extractions Extraction[]
  createdAt DateTime @default(now())
}

enum Status {
  TO_RECOGNIZE
  TO_EXTRACT
  TO_VERIFY
  PROCESSED
}

model Extraction {
  id String @id @default(uuid())
  filename  String
  objectPath String
  text  String?
  json  Json?
  userId  String
  status Status @default(TO_RECOGNIZE)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt


  user User @relation(fields: [userId],references: [id],onDelete: Cascade)
}